"use strict";function Router(o,r){o.state("register",{url:"/register",templateUrl:"/templates/register.html",controller:"RegisterController as register"}).state("login",{url:"/login",templateUrl:"/templates/login.html",controller:"LoginController as login"}).state("menu",{url:"/menu",templateUrl:"/templates/menu.html"}).state("boardsIndex",{url:"/boards",templateUrl:"/templates/boardsIndex.html",controller:"BoardsIndexController as boardsIndex"}).state("boardsNew",{url:"/boards/new",templateUrl:"/templates/boardsNew.html",controller:"BoardsNewController as boardsNew"}).state("userBoards",{url:"/boards/me",templateUrl:"/templates/userBoards.html",controller:"UserBoardsController as userBoards"}).state("boardsShow",{url:"/boards/:id",templateUrl:"/templates/boardsShow.html",controller:"BoardsShowController as boardsShow"}).state("boardsEdit",{url:"/boards/:id/edit",templateUrl:"/templates/boardsEdit.html",controller:"BoardsEditController as boardsEdit"}).state("pinsShow",{url:"/pins/:id",templateUrl:"/templates/pinsShow.html",controller:"PinsShowController as pinsShow"}),r.otherwise("/")}function Auth(o){o.tokenPrefix="",o.loginUrl="/login",o.signupUrl="/register",o.facebook({clientId:"592951794244851"}),o.instagram({clientId:"64171eadf0914dd7bf7839bc034e42e0"})}function RegisterController(o,r){function t(){o.signup(e.user).then(function(){r.go("menu")})}var e=this;e.user={},e.submit=t}function LoginController(o,r){function t(){o.login(n.credentials).then(function(){r.go("menu")})}function e(t){o.authenticate(t).then(function(){r.go("menu"),console.log("Is this running")})}var n=this;n.credentials={},n.submit=t,n.authenticate=e}function Board(o){return new o("/boards/:id",{id:"@_id"},{update:{method:"PUT"}})}function BoardsIndexController(o){var r=this;r.all=o.query()}function BoardsNewController(o,r){function t(){o.save(e.board,function(o){r.go("boardsShow",{id:o._id})})}var e=this;e.board={},e.create=t}function UserBoardsController(o,r,t){function e(o){console.log("clicked!",o),o.$remove(function(){t.reload()})}function n(o){i.formEditVisible=!0,i.board=o}function l(){i.formEditVisible=!1}function a(){i.board.$update(function(){t.reload()})}var i=this;i.formEditVisible=!1;var s=r.getPayload();i.all=o.query({user:s._id}),i.delete=e,i.showEditForm=n,i.hideEditForm=l,i.updateBoard=a}function BoardsShowController(o,r,t){function e(){m.formVisible=!0}function n(){m.formVisible=!1,m.newPin={}}function l(){r.save({boardId:t.params.id},m.newPin,function(){m.pin={},n(),m.board=o.get(t.params)})}function a(o){m.copyPin=o,console.log("clicked",m.copyPin),m.formCopyVisible=!0}function i(){m.formCopyVisible=!1}function s(o){m.formEditVisible=!0,m.currentPin=o}function d(){m.formEditVisible=!1}function u(o,r){function t(){o.save({boardId:r.params.id},m.currentPin,function(){r.go("pinsShow",r.params)})}var e=this;e.pin=o.get(r.params),e.updatePin=t,d()}function c(o){console.log("clicked!",o),s(o)}function p(o){r.update({id:o._id,boardId:t.params.id},o)}var m=this;m.formVisible=!1,m.formEditVisible=!1,m.board=o.get(t.params),m.newPin={},m.showCreateForm=e,m.hideCreateForm=n,u.$inject=["Pin","$state"],m.showEditForm=s,m.hideEditForm=d,m.createPin=l,m.showPin=c,m.showCopyForm=a,m.hideCopyForm=i,m.updateBoard=p}function BoardsEditController(o,r){function t(){e.board.$update(function(){r.go("boardsShow",r.params)})}var e=this;e.board=o.get(r.params),e.updateBoard=t}function dragDrop(){var o=new FileReader;return{restrict:"E",replace:!0,templateUrl:"templates/dragDrop.html",scope:{base64:"="},link:function(r,t){r.base64=null,r.active=!1,o.onload=function(){r.base64=o.result,r.$apply()},t.on("dragover",function(){r.active=!0,r.$apply()}).on("dragover",function(o){o.preventDefault()}).on("dragleave",function(){r.active=!1,r.$apply()}).on("drop",function(r){r.preventDefault();var t=(r.target.files||r.dataTransfer.files)[0];o.readAsDataURL(t)})}}}function MainController(o,r){function t(){o.logout().then(function(){r.go("login")})}var e=this;e.isLoggedIn=o.isAuthenticated,e.logout=t}function Pin(o){return new o("/boards/:boardId/pins/:id",{id:"@_id"},{update:{method:"PUT"}})}function PinsShowController(o,r){function t(){e.pin.$remove(function(){r.go("boardsShow")})}var e=this;e.pin=o.get(r.params),e.delete=t}function PinsEditController(o,r){function t(){e.pin.$update(function(){r.go("pinsShow",r.params)})}var e=this;e.pin=o.get(r.params),e.update=t}function UploadController(){var o=this;o.data={}}angular.module("boardApp",["ngResource","ui.router","satellizer"]).config(Router).config(Auth),Router.$inject=["$stateProvider","$urlRouterProvider"],Auth.$inject=["$authProvider"],angular.module("boardApp").controller("RegisterController",RegisterController).controller("LoginController",LoginController),RegisterController.$inject=["$auth","$state"],LoginController.$inject=["$auth","$state"],angular.module("boardApp").factory("Board",Board),Board.$inject=["$resource"],angular.module("boardApp").controller("BoardsIndexController",BoardsIndexController).controller("BoardsNewController",BoardsNewController).controller("BoardsShowController",BoardsShowController).controller("BoardsEditController",BoardsEditController).controller("UserBoardsController",UserBoardsController),BoardsIndexController.$inject=["Board"],BoardsNewController.$inject=["Board","$state"],UserBoardsController.$inject=["Board","$auth","$state"],BoardsShowController.$inject=["Board","Pin","$state"],BoardsEditController.$inject=["Board","$state"],angular.module("boardApp").directive("dragDrop",dragDrop),angular.module("boardApp").controller("MainController",MainController),MainController.$inject=["$auth","$state"],angular.module("boardApp").factory("Pin",Pin),Pin.$inject=["$resource"],angular.module("boardApp").controller("PinsShowController",PinsShowController).controller("PinsEditController",PinsEditController),PinsShowController.$inject=["Pin","$state"],PinsEditController.$inject=["Pin","$state"],angular.module("boardApp").controller("UploadController",UploadController);
//# sourceMappingURL=app.js.map
